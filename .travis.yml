os: linux

apt_packages:
  - libxml2-dev

addons:
  apt:
    update: true
    packages:
      - libgs-dev
      - qpdf
      - ghostscript

language: r

r:
  - release
  - devel
  - oldrel

before_install:
  - tlmgr install index

pandoc: false

warnings_are_errors: true

services: docker

script:
  - docker pull dxjoke/tectonic-docker
  - R CMD build . --compact-vignettes=gs+qpdf
  - R CMD check *tar.gz --as-cran


notifications:
  email: false
