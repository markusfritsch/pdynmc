os: linux

addons:
  apt:
    update: true
    packages:
      - libxml2-dev
      - libgs-dev
      - qpdf
      - ghostscript

language: r

r:
  - release
  - devel
  - oldrel

before_install:
  - tlmgr install index

pandoc: false

warnings_are_errors: true

r_check_args: as-cran

services: docker

script:
  - docker pull dxjoke/tectonic-docker
  - R CMD build . --compact-vignettes=gs+qpdf
  - R CMD check *tar.gz --as-cran


notifications:
  email: false
